// Stephanie Liu CS136


import structure5.*;
import java.util.Iterator;

public class Interpreter {

    StackList<Token> stack = new StackList<Token>();


    public Interpreter() {

	

    }

    public void interpret(Reader reads) {

	Reader r = reads;
	Token next;
	String theString;
	
	while (r.hasNext()) {
	    next = r.next();

	    if (next.isNumber()) {
		stack.add(next);
	    }
	    else if (next.isBoolean()) {
		stack.add(next);
	    }

	    else if (next.toString().equals("add")) {
		Token a  = stack.get();
		Assert.condition( a.isNumber(), "Add two numbers!");
		stack.remove();
		
		Token b = stack.get();
		Assert.condition( b.isNumber(), "Add two numbers!");
		stack.remove();
		
		Token sum = new Token(a.getNumber() + b.getNumber());
		stack.add(sum);
	    }
	    
	    else if (next.toString().equals("pop")) {
		stack.remove();
	    }
	    else if (next.toString().equals("pstack")) {
		for (Token element : stack) {
		    System.out.println(element.toString());
		}
	    }
	   
	}
	
    }

    public static void main(String[] args) {

	Reader reads = new Reader();
	Interpreter theInterpreter = new Interpreter();
	theInterpreter.interpret(reads);

    }

}
